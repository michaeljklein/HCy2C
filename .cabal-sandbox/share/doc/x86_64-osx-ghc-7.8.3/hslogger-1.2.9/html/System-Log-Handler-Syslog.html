<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>System.Log.Handler.Syslog</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_System-Log-Handler-Syslog.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">hslogger-1.2.9: Versatile logging framework</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>Copyright (C) 2004-2011 John Goerzen</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>John Goerzen &lt;jgoerzen@complete.org&gt; </td></tr><tr><th>Stability</th><td>provisional</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">System.Log.Handler.Syslog</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Handler Initialization</a></li><li><a href="#g:2">Advanced handler initialization</a></li><li><a href="#g:3">Data Types</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Syslog handler for the Haskell Logging Framework</p><p>Written by John Goerzen, jgoerzen@complete.org</p><p>This module implements an interface to the Syslog service commonly
found in Unix/Linux systems.  This interface is primarily of interest to
developers of servers, as Syslog does not typically display messages in
an interactive fashion.</p><p>This module is written in pure Haskell and is capable of logging to a local
or remote machine using the Syslog protocol.</p><p>You can create a new Syslog <code><a href="System-Log-Handler.html#t:LogHandler">LogHandler</a></code> by calling <code><a href="System-Log-Handler-Syslog.html#v:openlog">openlog</a></code>.</p><p>More information on the Haskell Logging Framework can be found at
<a href="System-Log-Logger.html">System.Log.Logger</a>.  This module can also be used outside
of the rest of that framework for those interested in that.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:openlog">openlog</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; [<a href="System-Log-Handler-Syslog.html#t:Option">Option</a>] -&gt; <a href="System-Log-Handler-Syslog.html#t:Facility">Facility</a> -&gt; <a href="System-Log.html#t:Priority">Priority</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> SyslogHandler</li><li class="src short"><a href="#v:openlog_local">openlog_local</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; [<a href="System-Log-Handler-Syslog.html#t:Option">Option</a>] -&gt; <a href="System-Log-Handler-Syslog.html#t:Facility">Facility</a> -&gt; <a href="System-Log.html#t:Priority">Priority</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> SyslogHandler</li><li class="src short"><a href="#v:openlog_remote">openlog_remote</a> :: <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/network-2.4.2.3/doc/html/Network-Socket-Internal.html#t:Family">Family</a> -&gt; <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/network-2.4.2.3/doc/html/Network-Socket.html#t:HostName">HostName</a> -&gt; <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/network-2.4.2.3/doc/html/Network-Socket-Internal.html#t:PortNumber">PortNumber</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; [<a href="System-Log-Handler-Syslog.html#t:Option">Option</a>] -&gt; <a href="System-Log-Handler-Syslog.html#t:Facility">Facility</a> -&gt; <a href="System-Log.html#t:Priority">Priority</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> SyslogHandler</li><li class="src short"><a href="#v:openlog_generic">openlog_generic</a> :: <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/network-2.4.2.3/doc/html/Network-Socket.html#t:Socket">Socket</a> -&gt; <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/network-2.4.2.3/doc/html/Network-Socket-Internal.html#t:SockAddr">SockAddr</a> -&gt; <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/network-2.4.2.3/doc/html/Network-Socket.html#t:SocketType">SocketType</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; [<a href="System-Log-Handler-Syslog.html#t:Option">Option</a>] -&gt; <a href="System-Log-Handler-Syslog.html#t:Facility">Facility</a> -&gt; <a href="System-Log.html#t:Priority">Priority</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> SyslogHandler</li><li class="src short"><span class="keyword">data</span> <a href="#t:Facility">Facility</a><ul class="subs"><li>= <a href="#v:KERN">KERN</a></li><li>| <a href="#v:USER">USER</a></li><li>| <a href="#v:MAIL">MAIL</a></li><li>| <a href="#v:DAEMON">DAEMON</a></li><li>| <a href="#v:AUTH">AUTH</a></li><li>| <a href="#v:SYSLOG">SYSLOG</a></li><li>| <a href="#v:LPR">LPR</a></li><li>| <a href="#v:NEWS">NEWS</a></li><li>| <a href="#v:UUCP">UUCP</a></li><li>| <a href="#v:CRON">CRON</a></li><li>| <a href="#v:AUTHPRIV">AUTHPRIV</a></li><li>| <a href="#v:FTP">FTP</a></li><li>| <a href="#v:LOCAL0">LOCAL0</a></li><li>| <a href="#v:LOCAL1">LOCAL1</a></li><li>| <a href="#v:LOCAL2">LOCAL2</a></li><li>| <a href="#v:LOCAL3">LOCAL3</a></li><li>| <a href="#v:LOCAL4">LOCAL4</a></li><li>| <a href="#v:LOCAL5">LOCAL5</a></li><li>| <a href="#v:LOCAL6">LOCAL6</a></li><li>| <a href="#v:LOCAL7">LOCAL7</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Option">Option</a><ul class="subs"><li>= <a href="#v:PID">PID</a></li><li>| <a href="#v:PERROR">PERROR</a></li></ul></li></ul></div><div id="interface"><h1 id="g:1">Handler Initialization</h1><div class="top"><p class="src"><a name="v:openlog" class="def">openlog</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></td><td class="doc"><p>The name of this program -- will be prepended to every log message</p></td></tr><tr><td class="src">-&gt; [<a href="System-Log-Handler-Syslog.html#t:Option">Option</a>]</td><td class="doc"><p>A list of <code><a href="System-Log-Handler-Syslog.html#t:Option">Option</a></code>s.  The list [] is perfectly valid.  [<code><a href="System-Log-Handler-Syslog.html#v:PID">PID</a></code>] is probably most common here.</p></td></tr><tr><td class="src">-&gt; <a href="System-Log-Handler-Syslog.html#t:Facility">Facility</a></td><td class="doc"><p>The <code><a href="System-Log-Handler-Syslog.html#t:Facility">Facility</a></code> value to pass to the syslog system for every message logged</p></td></tr><tr><td class="src">-&gt; <a href="System-Log.html#t:Priority">Priority</a></td><td class="doc"><p>Messages logged below this priority will be ignored.  To include every message, set this to <code><a href="System-Log.html#v:DEBUG">DEBUG</a></code>.</p></td></tr><tr><td class="src">-&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> SyslogHandler</td><td class="doc"><p>Returns the new handler</p></td></tr></table></div><div class="doc"><p>Initialize the Syslog system using the local system's default interface,
/dev/log.  Will return a new <code><a href="System-Log-Handler.html#t:LogHandler">LogHandler</a></code>.</p><p>On Windows, instead of using /dev/log, this will attempt to send
UDP messages to something listening on the syslog port (514) on localhost.</p><p>Use <code><a href="System-Log-Handler-Syslog.html#v:openlog_remote">openlog_remote</a></code> if you need more control.</p></div></div><h1 id="g:2">Advanced handler initialization</h1><div class="top"><p class="src"><a name="v:openlog_local" class="def">openlog_local</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></td><td class="doc"><p>Path to FIFO</p></td></tr><tr><td class="src">-&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></td><td class="doc"><p>Program name</p></td></tr><tr><td class="src">-&gt; [<a href="System-Log-Handler-Syslog.html#t:Option">Option</a>]</td><td class="doc"><p><code><a href="System-Log-Handler-Syslog.html#t:Option">Option</a></code>s</p></td></tr><tr><td class="src">-&gt; <a href="System-Log-Handler-Syslog.html#t:Facility">Facility</a></td><td class="doc"><p>Facility value</p></td></tr><tr><td class="src">-&gt; <a href="System-Log.html#t:Priority">Priority</a></td><td class="doc"><p>Priority limit</p></td></tr><tr><td class="src">-&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> SyslogHandler</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Initialize the Syslog system using an arbitrary Unix socket (FIFO).</p><p>Not supported under Windows.</p></div></div><div class="top"><p class="src"><a name="v:openlog_remote" class="def">openlog_remote</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/network-2.4.2.3/doc/html/Network-Socket-Internal.html#t:Family">Family</a></td><td class="doc"><p>Usually AF_INET or AF_INET6; see Network.Socket</p></td></tr><tr><td class="src">-&gt; <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/network-2.4.2.3/doc/html/Network-Socket.html#t:HostName">HostName</a></td><td class="doc"><p>Remote hostname.  Some use <code>localhost</code></p></td></tr><tr><td class="src">-&gt; <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/network-2.4.2.3/doc/html/Network-Socket-Internal.html#t:PortNumber">PortNumber</a></td><td class="doc"><p>514 is the default for syslog</p></td></tr><tr><td class="src">-&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></td><td class="doc"><p>Program name</p></td></tr><tr><td class="src">-&gt; [<a href="System-Log-Handler-Syslog.html#t:Option">Option</a>]</td><td class="doc"><p><code><a href="System-Log-Handler-Syslog.html#t:Option">Option</a></code>s</p></td></tr><tr><td class="src">-&gt; <a href="System-Log-Handler-Syslog.html#t:Facility">Facility</a></td><td class="doc"><p>Facility value</p></td></tr><tr><td class="src">-&gt; <a href="System-Log.html#t:Priority">Priority</a></td><td class="doc"><p>Priority limit</p></td></tr><tr><td class="src">-&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> SyslogHandler</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Log to a remote server via UDP. </p></div></div><div class="top"><p class="src"><a name="v:openlog_generic" class="def">openlog_generic</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/network-2.4.2.3/doc/html/Network-Socket.html#t:Socket">Socket</a></td><td class="doc"><p>A datagram socket</p></td></tr><tr><td class="src">-&gt; <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/network-2.4.2.3/doc/html/Network-Socket-Internal.html#t:SockAddr">SockAddr</a></td><td class="doc"><p>Address for transmissions</p></td></tr><tr><td class="src">-&gt; <a href="file:///Library/Haskell/ghc-7.8.3-x86_64/lib/network-2.4.2.3/doc/html/Network-Socket.html#t:SocketType">SocketType</a></td><td class="doc"><p>socket connection mode (stream / datagram)</p></td></tr><tr><td class="src">-&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></td><td class="doc"><p>Program name</p></td></tr><tr><td class="src">-&gt; [<a href="System-Log-Handler-Syslog.html#t:Option">Option</a>]</td><td class="doc"><p><code><a href="System-Log-Handler-Syslog.html#t:Option">Option</a></code>s</p></td></tr><tr><td class="src">-&gt; <a href="System-Log-Handler-Syslog.html#t:Facility">Facility</a></td><td class="doc"><p>Facility value</p></td></tr><tr><td class="src">-&gt; <a href="System-Log.html#t:Priority">Priority</a></td><td class="doc"><p>Priority limit</p></td></tr><tr><td class="src">-&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> SyslogHandler</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The most powerful initialization mechanism.  Takes an open datagram
socket. </p></div></div><h1 id="g:3">Data Types</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Facility" class="def">Facility</a></p><div class="doc"><p>Facilities are used by the system to determine where messages
are sent. </p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:KERN" class="def">KERN</a></td><td class="doc"><p>Kernel messages; you should likely never use this in your programs</p></td></tr><tr><td class="src"><a name="v:USER" class="def">USER</a></td><td class="doc"><p>General userland messages.  Use this if nothing else is appropriate</p></td></tr><tr><td class="src"><a name="v:MAIL" class="def">MAIL</a></td><td class="doc"><p>E-Mail system</p></td></tr><tr><td class="src"><a name="v:DAEMON" class="def">DAEMON</a></td><td class="doc"><p>Daemon (server process) messages</p></td></tr><tr><td class="src"><a name="v:AUTH" class="def">AUTH</a></td><td class="doc"><p>Authentication or security messages</p></td></tr><tr><td class="src"><a name="v:SYSLOG" class="def">SYSLOG</a></td><td class="doc"><p>Internal syslog messages; you should likely never use this in your programs</p></td></tr><tr><td class="src"><a name="v:LPR" class="def">LPR</a></td><td class="doc"><p>Printer messages</p></td></tr><tr><td class="src"><a name="v:NEWS" class="def">NEWS</a></td><td class="doc"><p>Usenet news</p></td></tr><tr><td class="src"><a name="v:UUCP" class="def">UUCP</a></td><td class="doc"><p>UUCP messages</p></td></tr><tr><td class="src"><a name="v:CRON" class="def">CRON</a></td><td class="doc"><p>Cron messages</p></td></tr><tr><td class="src"><a name="v:AUTHPRIV" class="def">AUTHPRIV</a></td><td class="doc"><p>Private authentication messages</p></td></tr><tr><td class="src"><a name="v:FTP" class="def">FTP</a></td><td class="doc"><p>FTP messages</p></td></tr><tr><td class="src"><a name="v:LOCAL0" class="def">LOCAL0</a></td><td class="doc"><p>LOCAL0 through LOCAL7 are reserved for you to customize as you wish</p></td></tr><tr><td class="src"><a name="v:LOCAL1" class="def">LOCAL1</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:LOCAL2" class="def">LOCAL2</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:LOCAL3" class="def">LOCAL3</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:LOCAL4" class="def">LOCAL4</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:LOCAL5" class="def">LOCAL5</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:LOCAL6" class="def">LOCAL6</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:LOCAL7" class="def">LOCAL7</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Facility" class="caption collapser" onclick="toggleSection('i:Facility')">Instances</p><div id="section.i:Facility" class="show"><table><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Eq.html#t:Eq">Eq</a> <a href="System-Log-Handler-Syslog.html#t:Facility">Facility</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Read.html#t:Read">Read</a> <a href="System-Log-Handler-Syslog.html#t:Facility">Facility</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> <a href="System-Log-Handler-Syslog.html#t:Facility">Facility</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Option" class="def">Option</a></p><div class="doc"><p>Options for <code><a href="System-Log-Handler-Syslog.html#v:openlog">openlog</a></code>. </p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:PID" class="def">PID</a></td><td class="doc"><p>Automatically log process ID (PID) with each message</p></td></tr><tr><td class="src"><a name="v:PERROR" class="def">PERROR</a></td><td class="doc"><p>Send a copy of each message to stderr</p></td></tr></table></div><div class="subs instances"><p id="control.i:Option" class="caption collapser" onclick="toggleSection('i:Option')">Instances</p><div id="section.i:Option" class="show"><table><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Eq.html#t:Eq">Eq</a> <a href="System-Log-Handler-Syslog.html#t:Option">Option</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Read.html#t:Read">Read</a> <a href="System-Log-Handler-Syslog.html#t:Option">Option</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.8.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> <a href="System-Log-Handler-Syslog.html#t:Option">Option</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>