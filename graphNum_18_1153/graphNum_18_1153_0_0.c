#include <stdio.h>
#include <stdint.h>
FILE * fout;
uint_fast32_t starthere = 0;
#define fopener fopen("graphNum_18_1153_0_1_out.txt", "w")
uint_fast64_t y;
uint_fast32_t best = 1;
uint_fast32_t i;
uint_fast32_t this;
static uint_fast32_t maxpos = 17;
static uint_fast32_t endhere = 0;
char str[28] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

static uint_fast64_t C[18][10] = {{2251799813685187LLU,18163017297050992576LLU,18446744073709029375LLU,18446744073709551615LLU,137438953471LLU,18446466996770963456LLU,18446743249075830783LLU,18446744073707585535LLU,17942339815931379713LLU,1073496063LLU},{18446744073709551615LLU,8796093022207LLU,0LLU,18446744072635809792LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,1073741823LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,1073741823LLU,0LLU,18446744073701163008LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,1073741823LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,8388607LLU,0LLU,18446744073709486080LLU,18446744073709551615LLU,1073741823LLU},{18446744065119617024LLU,18446744073709551615LLU,18446744073709551615LLU,18446735279764013055LLU,13816973218230564575LLU,17870283252699233783LLU,9187338703811083767LLU,18446462598732905467LLU,18446744073709551615LLU,1073741823LLU},{8589934591LLU,18158531289743884224LLU,18436608696990564351LLU,18446744073709418239LLU,18446744073709551615LLU,18445336767545475071LLU,17293505905391824830LLU,281474976702335LLU,18446744073708503040LLU,1073741823LLU},{18446744073709551615LLU,288221580058689599LLU,18446585744033053440LLU,18266608884094320606LLU,18300376527339978747LLU,18446744073709010879LLU,18446744073709551615LLU,18446744073709551615LLU,18374686479672672255LLU,1073741823LLU},{17870283321405997057LLU,18446739669220587775LLU,18444492273895866623LLU,18446743528248705023LLU,17582052945254416383LLU,18304880684944064511LLU,18438299824408231935LLU,18446744069414600703LLU,35976020446150143LLU,1073741822LLU},{18433233025719468031LLU,18446744073675997175LLU,2251799813685247LLU,288222128740761600LLU,18446727581035134975LLU,18446744005526847487LLU,18446744047939747839LLU,18442521953353859071LLU,18446743798831513587LLU,1073740801LLU},{18444492291067346943LLU,18442275366394392575LLU,18446744073709551615LLU,36028797018963961LLU,18446743936270598144LLU,14987975299281453055LLU,18230571291583184895LLU,281200098803687LLU,18444351519194087422LLU,1073726187LLU},{0LLU,18446735277616529408LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,1073741823LLU},{18410640509899894783LLU,576460752286646397LLU,18446743661392691196LLU,18446198715942174719LLU,18446321861219307519LLU,281474976707583LLU,18446744072635809792LLU,17221764974930558975LLU,12538021225161523167LLU,1071904767LLU},{16140901064491925503LLU,18446735277633306623LLU,13853072453791645443LLU,18411278226644008959LLU,9223372036854775807LLU,18446744073709551614LLU,1073741823LLU,18446743944860467200LLU,18374686617110575103LLU,1059028977LLU},{18446709163141101631LLU,9222844266172644863LLU,18230571274416422903LLU,18445618109363519487LLU,18446744073708503040LLU,18419721642654564351LLU,18439919405035487231LLU,17874751719416528895LLU,14411477021844570111LLU,1021311999LLU},{17597850728280229887LLU,18429292625153489919LLU,18444492291075735551LLU,18446742493161586233LLU,17546041602983591935LLU,18338645587622100991LLU,18446744073709551615LLU,576459373686030335LLU,4611686018418998542LLU,872138750LLU},{18446744004725813247LLU,14411518678702884863LLU,4611654819784949711LLU,14983367108610457600LLU,18446744073709551615LLU,144115184183541759LLU,9007173484936192LLU,18445609514477551615LLU,18445688266612015103LLU,737404815LLU},{4602677573900566263LLU,4575586852647600127LLU,18446744073474646012LLU,4611259398252167167LLU,18446730879570017855LLU,18446708824912953217LLU,18446744072635810815LLU,18426205196494045183LLU,18446743937344327671LLU,518978687LLU},{18446711019439913423LLU,15924306069916909504LLU,18446744056797626367LLU,14987906940581937663LLU,18446744073708503551LLU,18446532415565332607LLU,18446744073709550607LLU,17905179621396578303LLU,14555633994855104511LLU,771096511LLU}};

static uint_fast64_t D[18][10] = {{18446744070474117055LLU,8646910841864053247LLU,3530544618607738790LLU,18446744073577431032LLU,18446744073709551615LLU,13844065227760467967LLU,18160757775003615231LLU,18446638054989889504LLU,18443117579355553791LLU,1073726187LLU},{6518172918235529214LLU,18446740996744892265LLU,18446744073709551615LLU,18374704069710184447LLU,4556868557286647518LLU,12105112985836317159LLU,8826971292811622887LLU,18446744073709548499LLU,18446744073709551615LLU,1073741823LLU},{18446744056907378621LLU,576437440989016319LLU,12293659085399129600LLU,18446744073556059895LLU,18446744073709551615LLU,18254215052234063871LLU,14975839804560166716LLU,18446744073709526654LLU,18446744073709551615LLU,1073741823LLU},{11928571172276195395LLU,17870318505778216854LLU,18444051899853132799LLU,12249773397943205276LLU,16854697939760381363LLU,18446744073707929405LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,1073741823LLU},{18446744073709551615LLU,8796093022207LLU,18446744073709551360LLU,18230571291595767807LLU,18226911279161696249LLU,6915840177780004766LLU,16572771083392903070LLU,5543649666316357423LLU,18421537579219965597LLU,1073741823LLU},{18446744073709551615LLU,18446744073709551615LLU,6160686520850184703LLU,18410715276844179406LLU,18446744073709551615LLU,17487477353079635967LLU,4552006502147767539LLU,18446474975081560569LLU,18399892974161887231LLU,1073741823LLU},{18446744073709551615LLU,18446744073709551615LLU,18431541008630722559LLU,6341068275337458299LLU,10925616043071369807LLU,18446462598734871795LLU,18446744073709551615LLU,12903363506021203967LLU,18446744073708874082LLU,1073741823LLU},{6901766171247247359LLU,18446743197479423987LLU,18446744073709551615LLU,21427282602098687LLU,9223354582107684863LLU,1152811416004988814LLU,16212958625117758350LLU,18442521949058891527LLU,18439565996503914481LLU,1073740801LLU},{17473179028994129919LLU,18446737468452501613LLU,18446744073709551615LLU,18425334383293497343LLU,17325488488690094072LLU,18302739111673459711LLU,18437744845914111999LLU,5543931141293017087LLU,17947328284163231LLU,1073741822LLU},{18446744068724359105LLU,10376287972826463999LLU,14933936364360040537LLU,18446744072768163783LLU,18446744073709551615LLU,18439988632359010303LLU,2304153093261958257LLU,18446580718921332991LLU,17896722656223297535LLU,1073496063LLU},{18446744073709551615LLU,18446735277616529407LLU,6155777162166840831LLU,6269010679919205227LLU,15481921650372074349LLU,6534160109350344410LLU,13090677050047313627LLU,18446744073709514157LLU,18446744073709551615LLU,1073741823LLU},{14837935220996496219LLU,18271912928800145367LLU,13835335666906032127LLU,17582051944527036415LLU,1121392886541320135LLU,18446744073702113278LLU,18446744073709551615LLU,13537257394323455999LLU,18446744073708893050LLU,1059028977LLU},{13195433451961967847LLU,18333380026839334908LLU,18446743539019554815LLU,1152913713535938617LLU,17581494393314983999LLU,18446744073709547633LLU,18446744073709551615LLU,16587870957779288063LLU,12538021362599407047LLU,1071904767LLU},{18160765493024129023LLU,17280310017861328895LLU,14987979559889010525LLU,18432915515027488263LLU,18410715414129541119LLU,4611672788854374399LLU,288230375094747120LLU,18446601618234275871LLU,18432388746616766209LLU,872136151LLU},{6917529025895464959LLU,2305843008155713523LLU,18176528096067321843LLU,18444844117600210943LLU,9223372036854775807LLU,18446638505560772494LLU,18446673706038591503LLU,18446686873335103487LLU,18446735406733776895LLU,1021083453LLU},{286539602146033267LLU,18390336927510298623LLU,18444773748608305151LLU,18427603487530418175LLU,36028661727493632LLU,18446688823250255744LLU,18446681676424675327LLU,9191846837302659071LLU,17744177034281599230LLU,509509630LLU},{18230122690851609567LLU,18292214175130189775LLU,18446709424060497871LLU,18439988502469804031LLU,18411278224529047551LLU,18446592890718257151LLU,70368744177663LLU,11096869481000992767LLU,6628181547674763071LLU,733999103LLU},{18445055217403592703LLU,18444483615226067967LLU,14121071815992278844LLU,18419440725033746431LLU,18446743938418081791LLU,18338655431821361151LLU,18446744072636334079LLU,9223160824321736704LLU,18375812250721058814LLU,394255602LLU}};

uint_fast8_t X[18] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

uint_fast64_t A[18][10] = {{18446744070474117055LLU,8646910841864053247LLU,3530544618607738790LLU,18446744073577431032LLU,18446744073709551615LLU,13844065227760467967LLU,18160757775003615231LLU,18446638054989889504LLU,18443117579355553791LLU,1073726187LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,1073741823LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,1073741823LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,1073741823LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,1073741823LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,1073741823LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,1073741823LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,1073741823LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,1073741823LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,1073741823LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,1073741823LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,1073741823LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,1073741823LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,1073741823LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,1073741823LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,1073741823LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,1073741823LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,1073741823LLU}};

#if UINTPTR_MAX == 0xffffffffffffffff // 64-bit. Hopefully this means the cpu has 'popcnt'.
int counter (uint64_t * buf){
    uint64_t cnt[18];
    cnt[0] = 0;
    cnt[1] = 0;
    cnt[2] = 0;
    cnt[3] = 0;
    cnt[4] = 0;
    cnt[5] = 0;
    cnt[6] = 0;
    cnt[7] = 0;
    cnt[8] = 0;
    cnt[9] = 0;
    cnt[10] = 0;
    cnt[11] = 0;
    cnt[12] = 0;
    cnt[13] = 0;
    cnt[14] = 0;
    cnt[15] = 0;
    cnt[16] = 0;
    cnt[17] = 0;

    __asm__(
            "popcnt %4, %4 \n\t"
            "add %4, %0    \n\t"
            "popcnt %5, %5 \n\t"
            "add %5, %1    \n\t"
            "popcnt %6, %6 \n\t"
            "add %6, %2    \n\t"
            "popcnt %7, %7 \n\t"
            "add %7, %3    \n\t"
            : "+r" (cnt[0]), "+r" (cnt[1]), "+r" (cnt[2]), "+r" (cnt[3])
            : "r" (buf[0]), "r" (buf[1]), "r" (buf[2]), "r" (buf[3]));
    __asm__(
            "popcnt %4, %4 \n\t"
            "add %4, %0    \n\t"
            "popcnt %5, %5 \n\t"
            "add %5, %1    \n\t"
            "popcnt %6, %6 \n\t"
            "add %6, %2    \n\t"
            "popcnt %7, %7 \n\t"
            "add %7, %3    \n\t"
            : "+r" (cnt[4]), "+r" (cnt[5]), "+r" (cnt[6]), "+r" (cnt[7])
            : "r" (buf[4]), "r" (buf[5]), "r" (buf[6]), "r" (buf[7]));
    __asm__(
            "popcnt %4, %4 \n\t"
            "add %4, %0    \n\t"
            "popcnt %5, %5 \n\t"
            "add %5, %1    \n\t"
            "popcnt %6, %6 \n\t"
            "add %6, %2    \n\t"
            "popcnt %7, %7 \n\t"
            "add %7, %3    \n\t"
            : "+r" (cnt[8]), "+r" (cnt[9]), "+r" (cnt[10]), "+r" (cnt[11])
            : "r" (buf[8]), "r" (buf[9]), "r" (buf[10]), "r" (buf[11]));
    __asm__(
            "popcnt %4, %4 \n\t"
            "add %4, %0    \n\t"
            "popcnt %5, %5 \n\t"
            "add %5, %1    \n\t"
            "popcnt %6, %6 \n\t"
            "add %6, %2    \n\t"
            "popcnt %7, %7 \n\t"
            "add %7, %3    \n\t"
            : "+r" (cnt[12]), "+r" (cnt[13]), "+r" (cnt[14]), "+r" (cnt[15])
            : "r" (buf[12]), "r" (buf[13]), "r" (buf[14]), "r" (buf[15]));
    __asm__(
            "popcnt %2, %2  \n\t"
            "add %2, %0     \n\t"
            "popcnt %3, %3  \n\t"
            "add %3, %1     \n\t"
            : "+r" (cnt[16]), "+r" (cnt[17])
            : "r" (buf[16]), "r" (buf[17]));


    return cnt[0] + cnt[1] + cnt[2] + cnt[3] + cnt[4] + cnt[5] + cnt[6] + cnt[7] + cnt[8] + cnt[9] + cnt[10] + cnt[11] + cnt[12] + cnt[13] + cnt[14] + cnt[15] + cnt[16] + cnt[17];
}

#elif UINTPTR_MAX == 0xffffffff // 32-bit
int counter (unsigned long long i)
{
  unsigned int i1 = i, i2 = i >> 32;
  i1 = i1 - ((i1 >> 1) & 0x55555555);
  i2 = i2 - ((i2 >> 1) & 0x55555555);
  i1 = (i1 & 0x33333333) + ((i1 >> 2) & 0x33333333);
  i2 = (i2 & 0x33333333) + ((i2 >> 2) & 0x33333333);
  i1 = (i1 + (i1 >> 4)) & 0xF0F0F0F;
  i2 = (i2 + (i2 >> 4)) & 0xF0F0F0F;
  return ((i1 + i2) * 0x1010101) >> 24;
}

#else
#error "this cpu doesn't seem to be 32-bit or 64-bit. I don't know how to deal with this."
#endif
void f(uint_fast8_t i, uint_fast8_t y0){
    if(y0){
        A[i][0] = A[i-1][0] & C[i][0];
        A[i][1] = A[i-1][1] & C[i][1];
        A[i][2] = A[i-1][2] & C[i][2];
        A[i][3] = A[i-1][3] & C[i][3];
        A[i][4] = A[i-1][4] & C[i][4];
        A[i][5] = A[i-1][5] & C[i][5];
        A[i][6] = A[i-1][6] & C[i][6];
        A[i][7] = A[i-1][7] & C[i][7];
        A[i][8] = A[i-1][8] & C[i][8];
        A[i][9] = A[i-1][9] & C[i][9];

    } else {
        A[i][0] = A[i-1][0] & D[i][0];
        A[i][1] = A[i-1][1] & D[i][1];
        A[i][2] = A[i-1][2] & D[i][2];
        A[i][3] = A[i-1][3] & D[i][3];
        A[i][4] = A[i-1][4] & D[i][4];
        A[i][5] = A[i-1][5] & D[i][5];
        A[i][6] = A[i-1][6] & D[i][6];
        A[i][7] = A[i-1][7] & D[i][7];
        A[i][8] = A[i-1][8] & D[i][8];
        A[i][9] = A[i-1][9] & D[i][9];

    }
}

void printout(){
    sprintf(str, "[                  ,%5d]\n", this);
    str[1] = X[0] ^ 48;
    str[2] = X[1] ^ 48;
    str[3] = X[2] ^ 48;
    str[4] = X[3] ^ 48;
    str[5] = X[4] ^ 48;
    str[6] = X[5] ^ 48;
    str[7] = X[6] ^ 48;
    str[8] = X[7] ^ 48;
    str[9] = X[8] ^ 48;
    str[10] = X[9] ^ 48;
    str[11] = X[10] ^ 48;
    str[12] = X[11] ^ 48;
    str[13] = X[12] ^ 48;
    str[14] = X[13] ^ 48;
    str[15] = X[14] ^ 48;
    str[16] = X[15] ^ 48;
    str[17] = X[16] ^ 48;
    str[18] = X[17] ^ 48;

}


void checkifbest(){
    uint_fast64_t * thisbuf = A[maxpos];
    this = counter(thisbuf);

    if(this == best){
        printout();
        fwrite(str, 1, sizeof(str), fout);
    }

    if(this > best){
        printout();
        fwrite(str, 1, sizeof(str), fout);
        best = this;
    }

}

int r(){
    goto startnocarry;
    
    startnocarry:
        if(i == maxpos){
            if(X[i]){
                X[i] = 0;
                i--;
                goto startcarry;
            }else{
                f(i, 0);
                checkifbest();
                X[i] = 1;
                f(i, 1);
                checkifbest();
                X[i] = 0;
                i--;
                goto startcarry;
            }
        }else{
            f(i, X[i]);
            i++;
            goto startnocarry;
        }
        
    startcarry:
        if(X[i] && (i != endhere)){
            X[i] = 0;
            i--;
            goto startcarry;
        }else{
            if(i == endhere){
                goto end;
            }else{
                X[i] = 1;
                f(i, 1);
                i++;
                goto startnocarry;
            }
        }

    end:
        return 0;
}
int main(){
fout = fopener;
    fputs("[[0,1],[0,2],[0,3],[0,4],[1,2],[1,3],[1,4],[2,5],[2,6],[3,5],[3,7],[4,6],[4,8],[5,7],[5,8],[6,7],[6,8],[7,8]]\n", fout);
    if(endhere){
        uint_fast8_t bitpos = 0;
        uint_fast8_t thisbit;
        while(starthere){
            thisbit = starthere & 1;
            X[bitpos] = thisbit;
            f(bitpos, thisbit);
            bitpos++;
            starthere >>= 1;
        }
        i = endhere;
        r();
    }else{
        i = 0;
        r();
    }
    fwrite("FINISHED.", 1, 9, fout);
    fclose(fout);
    return 0;
}

