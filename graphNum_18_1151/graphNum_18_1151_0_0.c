#include <stdio.h>
#include <stdint.h>
FILE * fout;
uint_fast32_t starthere = 0;
#define fopener fopen("graphNum_18_1151_0_1_out.txt", "w")
uint_fast64_t y;
uint_fast32_t best = 1;
uint_fast32_t i;
uint_fast32_t this;
static uint_fast32_t maxpos = 17;
static uint_fast32_t endhere = 0;
char str[28] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

static uint_fast64_t C[18][9] = {{18446741876296912895LLU,18446744073709551615LLU,131071LLU,18446462599001260044LLU,18446741943405772799LLU,18446744073709551615LLU,17870564798530322431LLU,576460752303423487LLU,67108860LLU},{18446744073709551615LLU,34359738367LLU,0LLU,18446744073709551612LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,67108863LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,3LLU,18446744065119617024LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,67108863LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,8589934591LLU,0LLU,18446744073708503040LLU,18446744073709551615LLU,67108863LLU},{18446744073172680704LLU,18446744073709551615LLU,18446744073709551615LLU,13177532509686054919LLU,17257791589636107773LLU,18444419706059227133LLU,18446462598733885311LLU,18446744073709551615LLU,67108863LLU},{18158513698094710783LLU,18446603404940673023LLU,13256305901112918015LLU,18446744073709551615LLU,18445338897849253887LLU,16068843399590901695LLU,281474976579579LLU,18446744073709547520LLU,67108863LLU},{288230376151711743LLU,17005732896079609856LLU,18374404454938574847LLU,18445618173634953213LLU,18446744069406162879LLU,18446744073709551615LLU,18446744073709551615LLU,18442240474082185215LLU,67108863LLU},{17293822569102700545LLU,288230358619438767LLU,18446744073709420544LLU,18446744073709551615LLU,18439988639908757503LLU,4179340028997652095LLU,18446744071562330087LLU,17872488930949980159LLU,67108863LLU},{0LLU,18446744039349813248LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,67108863LLU},{18158515896581091331LLU,2305702409164292095LLU,18446744073709420544LLU,281474976710655LLU,18446471386235928576LLU,18446744073709551615LLU,576460750158036991LLU,17874786921033494528LLU,67108863LLU},{567453553031905279LLU,18438018349431488512LLU,18433233274827440127LLU,18446744073708535807LLU,281474975137791LLU,18446744056529682432LLU,18446735277616529407LLU,9151314438521884543LLU,67108739LLU},{18446603336220934143LLU,18167520862452875263LLU,18446743970630336511LLU,18446744073677045759LLU,18446744073709551603LLU,17179869183LLU,18446743936269549568LLU,17280311774515560445LLU,67104895LLU},{11529215013856088063LLU,18363146004015479295LLU,18446744069414715391LLU,18446744005258510095LLU,18167520828093104127LLU,18446727031263068159LLU,18438299757836237855LLU,17870072163432611839LLU,67047291LLU},{18410701842024627187LLU,2287793014013689855LLU,18446181128051073022LLU,18304876356120344831LLU,18446743661275250687LLU,18446198715942174719LLU,14924924835235627007LLU,10376293335303192063LLU,66125055LLU},{9222754385669390159LLU,18446175076442177534LLU,562949953420897LLU,9367210148000417788LLU,9511600763739044991LLU,18446744073709551615LLU,4107005783139418111LLU,9223372036854579191LLU,51380196LLU},{18442310286560960063LLU,18446728680446099455LLU,17437937757112498207LLU,9223319256265912271LLU,18446691297151352832LLU,576460752303423487LLU,18300904838281560063LLU,18383680484786831296LLU,48221055LLU},{18163017202694779391LLU,18446620928407240607LLU,18446736372900169727LLU,18446743184651189567LLU,18446532958887149567LLU,18446744073709535743LLU,18421973672584544255LLU,17942340915431469119LLU,33374171LLU},{18443357436155772663LLU,9216607566442758271LLU,18446189919790430718LLU,18320639982386281439LLU,18446708614459491327LLU,18446744056529698815LLU,16103743060306821119LLU,13799029253985009615LLU,49536959LLU}};

static uint_fast64_t D[18][9] = {{16543548819657195519LLU,18446744047411142151LLU,18446744073709551615LLU,18444773748839055359LLU,18437745663015329667LLU,18013849290014735LLU,17870283321405112288LLU,17871339935908218457LLU,67108863LLU},{13084784304762912766LLU,18446744059569195858LLU,18446744073709551615LLU,13177251034642284535LLU,14879334598064721385LLU,17845295802228915689LLU,18446744073709506174LLU,18446744073709551615LLU,67108863LLU},{5764607522173612029LLU,17870564707443979437LLU,4010345325578289151LLU,18446744073709551615LLU,8922752398041022463LLU,11312460959441020735LLU,18446744073709157331LLU,18446744073709551615LLU,67108863LLU},{18044096320482578435LLU,5764326185496477695LLU,17076794911789372757LLU,7904849420905054221LLU,18446744069255101247LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,67108863LLU},{18446744073709551615LLU,18158513731917578239LLU,18446744073709551615LLU,18445055223647961087LLU,13689254010889912215LLU,14870595591930278807LLU,17870001846429203961LLU,18444890668999730777LLU,67108863LLU},{18446744073709551615LLU,16717361816799281151LLU,18329227377578868735LLU,18446744073675997184LLU,16658815021643464703LLU,8931654825759465212LLU,18446574334452950831LLU,18444093878792003583LLU,67108863LLU},{18446744073709551615LLU,13835058055282163711LLU,10661086814814513834LLU,10542739077868814335LLU,18446462606416405756LLU,18446744073709551615LLU,576911966537252863LLU,18446744073709549990LLU,67108863LLU},{13835055857332649983LLU,18446744068335332346LLU,18446744073709551615LLU,18446462598766395391LLU,11313037865908174847LLU,18432797867807604723LLU,17870564796382813439LLU,575756342635364351LLU,67108860LLU},{18446744073709551615LLU,13258597268619001855LLU,15806347910051441322LLU,15811387691871764474LLU,13091401155767809750LLU,7735731385749166806LLU,18446744073708942765LLU,18446744073709551615LLU,67108863LLU},{2305843008889942015LLU,18158795164473221624LLU,9083266802044239871LLU,18446744073709551612LLU,9005068950962175LLU,18428730224419536880LLU,18446574334454497311LLU,575404137801334783LLU,67108860LLU},{18338405290845197211LLU,11529106056978366463LLU,9367487088021086087LLU,1136894764617027183LLU,18446744072652586992LLU,18446744073709551615LLU,7623925419592384511LLU,17284815369847962108LLU,67104895LLU},{18431517542738508903LLU,9223340425895477247LLU,18429223355392450680LLU,17311819634197918111LLU,18446744073707511935LLU,18446744073709551615LLU,11399721687122444287LLU,9151314442816847655LLU,67108739LLU},{18446675903988629443LLU,2305840921834397671LLU,18446744073709551584LLU,9223653511812022271LLU,18446735277616529407LLU,17888297703272611343LLU,576460752270950399LLU,18438859472602398719LLU,57081327LLU},{422493940042694527LLU,18373837654581051390LLU,18446744073709551231LLU,18446744073696935935LLU,9223495174639320079LLU,576460752303423487LLU,18446744073642441728LLU,18068164628079970163LLU,60780531LLU},{18390308340879064063LLU,18417435491757488159LLU,18446744073709527039LLU,18446744073708109823LLU,18446638520461107187LLU,18446181140919222783LLU,18446744073172680703LLU,18257592618512809181LLU,66690687LLU},{18446744004703289343LLU,18283488555003543425LLU,9209852579318595583LLU,18446743249058856444LLU,9223370799904194559LLU,18446198715942158336LLU,18428579316983923711LLU,6913306696815476735LLU,24969165LLU},{9223371486993842175LLU,18405648726977644542LLU,17311344283323727871LLU,18446691297144598527LLU,9511601588372766719LLU,562932790329343LLU,18302573772613353471LLU,12682119229340450815LLU,46660094LLU},{18230534990129461215LLU,18230499789114441727LLU,1152921500848652263LLU,10376082383664308092LLU,18446602228253851647LLU,18446744073709551615LLU,8930426919391854592LLU,18154027690116510719LLU,20936701LLU}};

uint_fast8_t X[18] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

uint_fast64_t A[18][9] = {{16543548819657195519LLU,18446744047411142151LLU,18446744073709551615LLU,18444773748839055359LLU,18437745663015329667LLU,18013849290014735LLU,17870283321405112288LLU,17871339935908218457LLU,67108863LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,67108863LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,67108863LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,67108863LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,67108863LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,67108863LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,67108863LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,67108863LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,67108863LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,67108863LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,67108863LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,67108863LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,67108863LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,67108863LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,67108863LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,67108863LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,67108863LLU},{18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,18446744073709551615LLU,67108863LLU}};

#if UINTPTR_MAX == 0xffffffffffffffff // 64-bit. Hopefully this means the cpu has 'popcnt'.
int counter (uint64_t * buf){
    uint64_t cnt[18];
    cnt[0] = 0;
    cnt[1] = 0;
    cnt[2] = 0;
    cnt[3] = 0;
    cnt[4] = 0;
    cnt[5] = 0;
    cnt[6] = 0;
    cnt[7] = 0;
    cnt[8] = 0;
    cnt[9] = 0;
    cnt[10] = 0;
    cnt[11] = 0;
    cnt[12] = 0;
    cnt[13] = 0;
    cnt[14] = 0;
    cnt[15] = 0;
    cnt[16] = 0;
    cnt[17] = 0;

    __asm__(
            "popcnt %4, %4 \n\t"
            "add %4, %0    \n\t"
            "popcnt %5, %5 \n\t"
            "add %5, %1    \n\t"
            "popcnt %6, %6 \n\t"
            "add %6, %2    \n\t"
            "popcnt %7, %7 \n\t"
            "add %7, %3    \n\t"
            : "+r" (cnt[0]), "+r" (cnt[1]), "+r" (cnt[2]), "+r" (cnt[3])
            : "r" (buf[0]), "r" (buf[1]), "r" (buf[2]), "r" (buf[3]));
    __asm__(
            "popcnt %4, %4 \n\t"
            "add %4, %0    \n\t"
            "popcnt %5, %5 \n\t"
            "add %5, %1    \n\t"
            "popcnt %6, %6 \n\t"
            "add %6, %2    \n\t"
            "popcnt %7, %7 \n\t"
            "add %7, %3    \n\t"
            : "+r" (cnt[4]), "+r" (cnt[5]), "+r" (cnt[6]), "+r" (cnt[7])
            : "r" (buf[4]), "r" (buf[5]), "r" (buf[6]), "r" (buf[7]));
    __asm__(
            "popcnt %4, %4 \n\t"
            "add %4, %0    \n\t"
            "popcnt %5, %5 \n\t"
            "add %5, %1    \n\t"
            "popcnt %6, %6 \n\t"
            "add %6, %2    \n\t"
            "popcnt %7, %7 \n\t"
            "add %7, %3    \n\t"
            : "+r" (cnt[8]), "+r" (cnt[9]), "+r" (cnt[10]), "+r" (cnt[11])
            : "r" (buf[8]), "r" (buf[9]), "r" (buf[10]), "r" (buf[11]));
    __asm__(
            "popcnt %4, %4 \n\t"
            "add %4, %0    \n\t"
            "popcnt %5, %5 \n\t"
            "add %5, %1    \n\t"
            "popcnt %6, %6 \n\t"
            "add %6, %2    \n\t"
            "popcnt %7, %7 \n\t"
            "add %7, %3    \n\t"
            : "+r" (cnt[12]), "+r" (cnt[13]), "+r" (cnt[14]), "+r" (cnt[15])
            : "r" (buf[12]), "r" (buf[13]), "r" (buf[14]), "r" (buf[15]));
    __asm__(
            "popcnt %2, %2  \n\t"
            "add %2, %0     \n\t"
            "popcnt %3, %3  \n\t"
            "add %3, %1     \n\t"
            : "+r" (cnt[16]), "+r" (cnt[17])
            : "r" (buf[16]), "r" (buf[17]));


    return cnt[0] + cnt[1] + cnt[2] + cnt[3] + cnt[4] + cnt[5] + cnt[6] + cnt[7] + cnt[8] + cnt[9] + cnt[10] + cnt[11] + cnt[12] + cnt[13] + cnt[14] + cnt[15] + cnt[16] + cnt[17];
}

#elif UINTPTR_MAX == 0xffffffff // 32-bit
int counter (unsigned long long i)
{
  unsigned int i1 = i, i2 = i >> 32;
  i1 = i1 - ((i1 >> 1) & 0x55555555);
  i2 = i2 - ((i2 >> 1) & 0x55555555);
  i1 = (i1 & 0x33333333) + ((i1 >> 2) & 0x33333333);
  i2 = (i2 & 0x33333333) + ((i2 >> 2) & 0x33333333);
  i1 = (i1 + (i1 >> 4)) & 0xF0F0F0F;
  i2 = (i2 + (i2 >> 4)) & 0xF0F0F0F;
  return ((i1 + i2) * 0x1010101) >> 24;
}

#else
#error "this cpu doesn't seem to be 32-bit or 64-bit. I don't know how to deal with this."
#endif
void f(uint_fast8_t i, uint_fast8_t y0){
    if(y0){
        A[i][0] = A[i-1][0] & C[i][0];
        A[i][1] = A[i-1][1] & C[i][1];
        A[i][2] = A[i-1][2] & C[i][2];
        A[i][3] = A[i-1][3] & C[i][3];
        A[i][4] = A[i-1][4] & C[i][4];
        A[i][5] = A[i-1][5] & C[i][5];
        A[i][6] = A[i-1][6] & C[i][6];
        A[i][7] = A[i-1][7] & C[i][7];
        A[i][8] = A[i-1][8] & C[i][8];

    } else {
        A[i][0] = A[i-1][0] & D[i][0];
        A[i][1] = A[i-1][1] & D[i][1];
        A[i][2] = A[i-1][2] & D[i][2];
        A[i][3] = A[i-1][3] & D[i][3];
        A[i][4] = A[i-1][4] & D[i][4];
        A[i][5] = A[i-1][5] & D[i][5];
        A[i][6] = A[i-1][6] & D[i][6];
        A[i][7] = A[i-1][7] & D[i][7];
        A[i][8] = A[i-1][8] & D[i][8];

    }
}

void printout(){
    sprintf(str, "[                  ,%5d]\n", this);
    str[1] = X[0] ^ 48;
    str[2] = X[1] ^ 48;
    str[3] = X[2] ^ 48;
    str[4] = X[3] ^ 48;
    str[5] = X[4] ^ 48;
    str[6] = X[5] ^ 48;
    str[7] = X[6] ^ 48;
    str[8] = X[7] ^ 48;
    str[9] = X[8] ^ 48;
    str[10] = X[9] ^ 48;
    str[11] = X[10] ^ 48;
    str[12] = X[11] ^ 48;
    str[13] = X[12] ^ 48;
    str[14] = X[13] ^ 48;
    str[15] = X[14] ^ 48;
    str[16] = X[15] ^ 48;
    str[17] = X[16] ^ 48;
    str[18] = X[17] ^ 48;

}


void checkifbest(){
    uint_fast64_t * thisbuf = A[maxpos];
    this = counter(thisbuf);

    if(this == best){
        printout();
        fwrite(str, 1, sizeof(str), fout);
    }

    if(this > best){
        printout();
        fwrite(str, 1, sizeof(str), fout);
        best = this;
    }

}

int r(){
    goto startnocarry;
    
    startnocarry:
        if(i == maxpos){
            if(X[i]){
                X[i] = 0;
                i--;
                goto startcarry;
            }else{
                f(i, 0);
                checkifbest();
                X[i] = 1;
                f(i, 1);
                checkifbest();
                X[i] = 0;
                i--;
                goto startcarry;
            }
        }else{
            f(i, X[i]);
            i++;
            goto startnocarry;
        }
        
    startcarry:
        if(X[i] && (i != endhere)){
            X[i] = 0;
            i--;
            goto startcarry;
        }else{
            if(i == endhere){
                goto end;
            }else{
                X[i] = 1;
                f(i, 1);
                i++;
                goto startnocarry;
            }
        }

    end:
        return 0;
}
int main(){
fout = fopener;
    fputs("[[0,1],[0,2],[0,3],[0,4],[1,2],[1,3],[1,4],[2,3],[2,5],[3,6],[4,7],[4,8],[5,6],[5,7],[5,8],[6,7],[6,8],[7,8]]\n", fout);
    if(endhere){
        uint_fast8_t bitpos = 0;
        uint_fast8_t thisbit;
        while(starthere){
            thisbit = starthere & 1;
            X[bitpos] = thisbit;
            f(bitpos, thisbit);
            bitpos++;
            starthere >>= 1;
        }
        i = endhere;
        r();
    }else{
        i = 0;
        r();
    }
    fwrite("FINISHED.", 1, 9, fout);
    fclose(fout);
    return 0;
}

